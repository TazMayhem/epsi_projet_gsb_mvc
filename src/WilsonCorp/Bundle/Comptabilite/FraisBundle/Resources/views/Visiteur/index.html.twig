{% extends 'WilsonCorpComptabiliteFraisBundle::base.html.twig' %}

{% block header %}
    {{ parent() }}
    Utilisateurs</h1>
{% endblock %}

{% block body -%}
    <a class="btn btn-success pull-right" href="{{ path('visiteur_new') }}">
        Créer un nouvel utilisateur
    </a>
    <h1>Liste des utilisateurs</h1>
    {% if entities is empty %}
        <div class="row alert-info" id="tagList">
            Aucun utilisateur n'a encore été ajouté.
        </div>
    {% else %}
        <table class="table table-striped" id="tabList">
            <thead>
            <tr>
                <th>N°</th>
                <th>Nom</th>
                <th>Prénom</th>
                <th>Addresse</th>
                <th>Code postal</th>
                <th>Ville</th>
                <th>Date d'embauche</th>
                <th>Rang</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            {% for entity in entities %}
                <tr>
                    <td><a href="{{ path('visiteur_show', { 'id': entity.id }) }}">{{ entity.id }}</a></td>
                    <td>{{ entity.nom }}</td>
                    <td>{{ entity.prenom }}</td>
                    <td>{{ entity.adresse|upper }}</td>
                    <td>{{ entity.cp }}</td>
                    <td>{{ entity.ville|upper }}</td>
                    <td>{% if entity.dateEmbauche %}{{ entity.dateEmbauche|date('d / m / Y') }}{% endif %}</td>
                    <td>{% for poste in entity.postes %} {{ poste.name }} {% endfor %}</td>
                    <td>
                        <a class="btn btn-info" href="{{ path('visiteur_show', { 'id': entity.id }) }}">Voir</a> <a class="btn btn-info" href="{{ path('visiteur_edit', { 'id': entity.id }) }}">Modifier</a>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% endif %}
{% endblock %}
